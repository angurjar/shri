{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{NavLink}from'react-router-dom';import'./MostPopularList.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MostPopularList=props=>{const[item,setItem]=useState();const[tap,setTap]=useState('popular');const taps=useRef();useEffect(()=>{fetch('http://localhost:5000/product/'+tap,{method:'GET',mode:'cors',headers:{'Content-Type':'application/json'}}).then(res=>res.json()).then(data=>setItem(data.products.slice(0,10)));},[tap]);const tapClickHandler=event=>{const nodes=taps.current.childNodes;for(let i=0;i<nodes.length;i++)nodes[i].classList.remove('active');event.currentTarget.classList.add('active');setTap(event.currentTarget.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Popular\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"taps\",ref:taps,children:[/*#__PURE__*/_jsx(\"button\",{className:\"tap active\",value:'popular',onClick:tapClickHandler,children:\"Most Popular\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tap\",value:\"top-sales\",onClick:tapClickHandler,children:\"Top Sales\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"items-list\",children:item&&item.map(item=>/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(NavLink,{to:'/view/'+item.id,className:\"card-img\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"img\",style:{backgroundImage:`url(http://localhost:5000/${item.image[0]})`}}),/*#__PURE__*/_jsx(\"p\",{className:\"title\",children:item.productName}),/*#__PURE__*/_jsx(\"p\",{className:\"decsription\",children:item.description.length>30?item.description.substring(0,30)+\"...\":item.description.substring(0,30)})]})},item.id))})]});};export default MostPopularList;","map":{"version":3,"names":["React","useState","useEffect","useRef","NavLink","jsx","_jsx","jsxs","_jsxs","MostPopularList","props","item","setItem","tap","setTap","taps","fetch","method","mode","headers","then","res","json","data","products","slice","tapClickHandler","event","nodes","current","childNodes","i","length","classList","remove","currentTarget","add","value","className","children","ref","onClick","map","to","id","style","backgroundImage","image","productName","description","substring"],"sources":["/home/anjali/shri/Freelance/frontend/src/pages/Home/components/MostPopularList.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react'\nimport { NavLink } from 'react-router-dom'\nimport './MostPopularList.css'\n\n\nconst MostPopularList = props => {\n    const [item, setItem] = useState()\n    const [tap, setTap] = useState('popular')\n\n    const taps = useRef()\n\n    useEffect(() => {\n        fetch('http://localhost:5000/product/' + tap, {\n            method: 'GET',\n            mode: 'cors',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n        }).then((res) => res.json()).then(data => setItem(data.products.slice(0, 10)))\n    \n    }, [tap])\n\n\n    const tapClickHandler = event => {\n        const nodes = taps.current.childNodes;\n        for (let i = 0; i < nodes.length; i++)\n            nodes[i].classList.remove('active')\n        event.currentTarget.classList.add('active')\n        setTap(event.currentTarget.value)\n    }\n    return <div className='container'>\n        <h2>Popular</h2>\n        <div className='taps' ref={taps}>\n            <button className='tap active' value={'popular'} onClick={tapClickHandler}>Most Popular</button>\n            <button className='tap' value={\"top-sales\"} onClick={tapClickHandler}>Top Sales</button>\n        </div>\n        <div className='items-list'>\n            {item && item.map(item => <div key={item.id} className=\"card\">\n                <NavLink to={'/view/'+item.id} className=\"card-img\"   >\n                    {/* <img src={`http://localhost:5000/${item.image[0]}`} alt='None' /> */}\n                    <div className='img' style={{backgroundImage:`url(http://localhost:5000/${item.image[0]})`}} ></div>\n                    <p className='title'>{item.productName}</p>\n                    <p className='decsription'>{item.description.length > 30 ? item.description.substring(0, 30) + \"...\" : item.description.substring(0, 30)}</p>\n                </NavLink>\n            </div>\n            )}\n\n        </div>\n    </div>\n}\n\n\nexport default MostPopularList"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import'./App.css';import Home from'./pages/Home/Home';import Header from'./shared/header/Header';import{BrowserRouter as Router,Route,Routes,Navigate}from'react-router-dom';import Auth from'./pages/Auth/Auth';import{AuthContext}from'./shared/context/auth-context';import{useCallback,useEffect,useState}from'react';import Upload from'./pages/Upload/Upload';import Delete from'./pages/Delete/Delete';import View from'./pages/View/View';import SearchViewPage from'./pages/SearchView/SearchViewPage';import Update from'./pages/Update/Update';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[token,setToken]=useState();const[userId,setUserId]=useState();const login=useCallback((uid,token)=>{setToken(token);setUserId(uid);localStorage.setItem('userData',JSON.stringify({userId:uid,token:token}));},[]);const logout=useCallback(()=>{setToken(null);setUserId(null);localStorage.removeItem('userData');},[]);useEffect(()=>{const userData=JSON.parse(localStorage.getItem('userData'));if(userData&&userData.token){login(userData.userId,userData.token);}},[login]);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{isLoggedIn:!!token,token:token,userId:userId,login:login,logout:logout},children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(Routes,{children:!token?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Auth,{login:true})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(Auth,{signup:true})}),/*#__PURE__*/_jsx(Route,{path:\"/View/:pid\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{minimal:true}),/*#__PURE__*/_jsx(View,{})]})}),/*#__PURE__*/_jsx(Route,{path:\"/search/:name\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{minimal:true}),/*#__PURE__*/_jsx(SearchViewPage,{search:true})]})}),/*#__PURE__*/_jsx(Route,{path:\"/products\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{minimal:true}),/*#__PURE__*/_jsx(SearchViewPage,{})]})}),/*#__PURE__*/_jsx(Route,{path:\"/Update/:pid\",element:/*#__PURE__*/_jsx(Update,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Home,{})]})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\"})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Home,{})]})}),/*#__PURE__*/_jsx(Route,{path:\"/upload\",element:/*#__PURE__*/_jsx(Upload,{})}),/*#__PURE__*/_jsx(Route,{path:\"/View/:pid\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{minimal:true}),/*#__PURE__*/_jsx(View,{})]})}),/*#__PURE__*/_jsx(Route,{path:\"/delete/:pid\",element:/*#__PURE__*/_jsx(Delete,{})}),/*#__PURE__*/_jsx(Route,{path:\"/search/:name\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{minimal:true}),/*#__PURE__*/_jsx(SearchViewPage,{search:true})]})}),/*#__PURE__*/_jsx(Route,{path:\"/products\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{minimal:true}),/*#__PURE__*/_jsx(SearchViewPage,{})]})}),/*#__PURE__*/_jsx(Route,{path:\"/Update/:pid\",element:/*#__PURE__*/_jsx(Update,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\"})})]})})})})});}export default App;","map":{"version":3,"names":["Home","Header","BrowserRouter","Router","Route","Routes","Navigate","Auth","AuthContext","useCallback","useEffect","useState","Upload","Delete","View","SearchViewPage","Update","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","token","setToken","userId","setUserId","login","uid","localStorage","setItem","JSON","stringify","logout","removeItem","userData","parse","getItem","Provider","value","isLoggedIn","children","path","element","signup","minimal","search","to"],"sources":["/home/anjali/shri/Freelance/frontend/src/App.js"],"sourcesContent":["import './App.css';\nimport Home from './pages/Home/Home';\nimport Header from './shared/header/Header';\n\nimport { BrowserRouter as Router, Route, Routes, Navigate } from 'react-router-dom';\n\nimport Auth from './pages/Auth/Auth';\nimport { AuthContext } from './shared/context/auth-context';\nimport { useCallback, useEffect, useState } from 'react';\nimport Upload from './pages/Upload/Upload';\nimport Delete from './pages/Delete/Delete';\nimport View from './pages/View/View';\nimport SearchViewPage from './pages/SearchView/SearchViewPage';\nimport Update from './pages/Update/Update';\n\nfunction App() {\n  const [token, setToken] = useState();\n  const [userId, setUserId] = useState();\n\n  const login = useCallback((uid, token) => {\n    setToken(token);\n    setUserId(uid);\n    localStorage.setItem('userData', JSON.stringify({\n      userId: uid,\n      token: token\n    }));\n  }, []);\n\n  const logout = useCallback(() => {\n    setToken(null);\n    setUserId(null);\n    localStorage.removeItem('userData');\n  }, []);\n\n  useEffect(() => {\n    const userData = JSON.parse(localStorage.getItem('userData'));\n    if (userData && userData.token) {\n      login(userData.userId, userData.token);\n    }\n  }, [login]);\n\n  return (\n    <AuthContext.Provider\n      value={{\n        isLoggedIn: !!token,\n        token: token,\n        userId: userId,\n        login: login,\n        logout: logout\n      }}\n    >\n      <Router>\n        <main>\n          <Routes>\n            {!token ? (\n              <>\n                <Route path='/login' element={<Auth login />} />\n                <Route path='/signup' element={<Auth signup />} />\n                <Route path='/View/:pid' element={<><Header minimal /><View /></>} />\n                <Route path='/search/:name' element={<><Header minimal /><SearchViewPage search /></>} />\n                <Route path='/products' element={<><Header minimal /><SearchViewPage /></>} />\n                <Route path='/Update/:pid' element={<Update />} />\n                <Route path='/' element={<><Header /><Home /></>} />\n                <Route path=\"*\" element={<Navigate to=\"/\" />} />\n              </>\n            ) : (\n              <>\n                <Route path='/' element={<><Header /><Home /></>} />\n                <Route path='/upload' element={<Upload />} />\n                <Route path='/View/:pid' element={<><Header minimal /><View /></>} />\n                <Route path='/delete/:pid' element={<Delete />} />\n                <Route path='/search/:name' element={<><Header minimal /><SearchViewPage search /></>} />\n                <Route path='/products' element={<><Header minimal /><SearchViewPage /></>} />\n                <Route path='/Update/:pid' element={<Update />} />\n                <Route path=\"*\" element={<Navigate to=\"/\" />} />\n              </>\n            )}\n          </Routes>\n        </main>\n      </Router>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}